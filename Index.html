<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Car to Car Mechanic - Repair Procedures</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #f5f5f5; color: #333; }
        .header { background: #1a1a1a; color: #fff; padding: 25px; text-align: center; }
        .header h1 { font-size: 32px; margin-bottom: 5px; }
        .header p { font-size: 14px; color: #aaa; }
        .container { max-width: 1000px; margin: 0 auto; padding: 20px; }
        .search-box { background: #fff; padding: 30px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); margin-bottom: 20px; }
        .search-box input { width: 100%; padding: 18px; font-size: 18px; border: 2px solid #1a1a1a; border-radius: 4px; margin-bottom: 15px; }
        .search-box input:focus { outline: none; border-color: #444; }
        .search-box button { width: 100%; padding: 18px; font-size: 18px; font-weight: 700; background: #1a1a1a; color: #fff; border: none; border-radius: 4px; cursor: pointer; }
        .search-box button:hover { background: #333; }
        .results { display: none; }
        .results.active { display: block; }
        .procedure { background: #fff; padding: 30px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .procedure h2 { font-size: 24px; border-bottom: 3px solid #1a1a1a; padding-bottom: 15px; margin-bottom: 20px; }
        .procedure h3 { font-size: 14px; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; margin: 25px 0 15px 0; color: #1a1a1a; border-bottom: 2px solid #eee; padding-bottom: 10px; }
        .meta { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin-bottom: 25px; padding: 15px; background: #f9f9f9; border-radius: 4px; }
        .meta div { text-align: center; }
        .meta label { display: block; font-size: 11px; text-transform: uppercase; color: #888; margin-bottom: 5px; }
        .meta span { font-weight: 600; }
        .warning { background: #fff3cd; border-left: 4px solid #ffc107; padding: 15px; margin: 20px 0; border-radius: 4px; }
        .warning strong { display: block; margin-bottom: 10px; }
        .note { background: #e7f3ff; border-left: 4px solid #2196F3; padding: 15px; margin: 20px 0; border-radius: 4px; }
        .note strong { display: block; margin-bottom: 10px; }
        ul { list-style: none; }
        ul li { padding: 8px 0; padding-left: 25px; position: relative; border-bottom: 1px solid #f0f0f0; }
        ul li:last-child { border-bottom: none; }
        .tools li:before { content: "üîß"; position: absolute; left: 0; }
        .parts li:before { content: "‚öôÔ∏è"; position: absolute; left: 0; }
        .steps { counter-reset: step; }
        .steps li { display: flex; align-items: flex-start; padding: 15px 0; padding-left: 0; }
        .steps li:before { content: none; }
        .step-num { min-width: 32px; height: 32px; background: #1a1a1a; color: #fff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700; margin-right: 15px; flex-shrink: 0; }
        .step-content { flex: 1; }
        .step-content strong { display: block; margin-bottom: 8px; font-size: 15px; }
        .step-content p { line-height: 1.7; color: #444; }
        .torque { background: #f5f5f5; padding: 10px 15px; margin-top: 10px; border-left: 3px solid #1a1a1a; font-family: monospace; font-size: 13px; }
        .print-btn { background: #28a745; color: #fff; padding: 15px 30px; border: none; border-radius: 4px; font-size: 16px; font-weight: 600; cursor: pointer; margin-bottom: 20px; }
        .print-btn:hover { background: #218838; }
        .no-results { background: #fff; padding: 40px; text-align: center; border-radius: 8px; }
        .no-results h3 { margin-bottom: 15px; }
        .available-list { text-align: left; max-width: 500px; margin: 20px auto 0; }
        .available-list li { padding: 10px; background: #f9f9f9; margin-bottom: 5px; border-radius: 4px; cursor: pointer; }
        .available-list li:hover { background: #eee; }
        @media print {
            .header, .search-box, .print-btn { display: none; }
            .procedure { box-shadow: none; }
        }
        @media (max-width: 600px) {
            .meta { grid-template-columns: 1fr 1fr; }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Car to Car Mechanic</h1>
        <p>Type your repair below ‚Äî get the complete procedure</p>
    </div>

    <div class="container">
        <div class="search-box">
            <input type="text" id="searchInput" placeholder="replace head gasket on a 2021 dodge charger" autofocus>
            <button onclick="search()">SEARCH</button>
        </div>

        <div class="results" id="results">
            <button class="print-btn" onclick="window.print()">üñ®Ô∏è PRINT PROCEDURE</button>
            <div id="output"></div>
        </div>
    </div>

    <script>
        const procedures = {
            "head gasket replacement|2021|dodge charger": {
                repair: "Head Gasket Replacement",
                vehicle: "2021 Dodge Charger 5.7L HEMI V8",
                time: "8-12 hours",
                difficulty: "Advanced",
                cost: "$450-650 (parts)",
                tools: [
                    "Socket set (metric: 8mm, 10mm, 13mm, 15mm, 18mm)",
                    "Torque wrench 0-150 ft-lbs (calibrated)",
                    "Torque angle gauge",
                    "Engine hoist with leveler",
                    "Cylinder head bolt socket (deep 15mm)",
                    "Gasket scraper (plastic blade)",
                    "Coolant pressure tester",
                    "Drain pans (2x - coolant and oil)",
                    "Jack stands (4)",
                    "Breaker bar"
                ],
                parts: [
                    "Head gasket set - Mopar 68280083AA (includes all gaskets)",
                    "Cylinder head bolts (16) - Mopar 6509876AA (TTY - must replace)",
                    "Coolant - Mopar OAT 10 year (MS-12106) - 2 gallons",
                    "Engine oil - 0W-40 synthetic (Pennzoil Ultra) - 7 quarts",
                    "Oil filter - Mopar MO-899"
                ],
                safety: [
                    "Engine MUST be cold - minimum 4 hours after running",
                    "Disconnect negative battery terminal FIRST",
                    "Support engine with hoist before removing mounts - engine weighs 500+ lbs",
                    "Coolant is toxic - keep away from pets/drains",
                    "Head bolts under extreme tension - wear safety glasses"
                ],
                notes: [
                    "5.7L HEMI uses MLS (multi-layer steel) head gaskets - surface finish critical",
                    "Head bolts are torque-to-yield - NEVER reuse",
                    "Check head flatness: max 0.002\" across any 6\" span",
                    "Firing order: 1-8-4-3-6-5-7-2 (cylinder 1 = front left)"
                ],
                steps: [
                    { title: "Drain Fluids", text: "Place drain pan under radiator petcock (driver side, bottom). Open and drain completely (~1.5 gal). Move pan under oil pan. Remove 15mm drain plug. Drain oil (~7 qts). Remove oil filter." },
                    { title: "Remove Air Intake", text: "Loosen clamp at throttle body (8mm). Disconnect MAF sensor connector. Remove air box lid (3 clips). Pull entire intake tube assembly." },
                    { title: "Disconnect Coolant Hoses", text: "Remove upper radiator hose at thermostat housing (spring clamp - squeeze with pliers). Remove heater hoses at firewall (2). Remove coolant reservoir hose. Have towels ready for spillage." },
                    { title: "Remove Serpentine Belt", text: "Place 3/8\" breaker bar in tensioner (located at front, below alternator). Rotate tensioner clockwise. Slide belt off. Note routing diagram on fan shroud." },
                    { title: "Remove Accessories", text: "Alternator: disconnect connector, remove 13mm mounting bolts (3). Set aside - do not disconnect cables. A/C compressor: remove 13mm bolts (4), set aside with lines attached. Power steering pump: remove 15mm bolts (3), set aside." },
                    { title: "Remove Exhaust Manifolds", text: "Apply PB Blaster to all manifold bolts. Wait 10 min. Remove 15mm manifold bolts (8 per side) working from center outward. May need breaker bar. Manifolds are heavy - support when removing last bolts." },
                    { title: "Remove Intake Manifold", text: "Disconnect fuel rail connector. Disconnect throttle body connector. Disconnect MAP sensor. Disconnect PCV valve hose. Remove 10mm intake manifold bolts (10) in reverse of torque sequence. Lift manifold straight up. Stuff rags in intake ports." },
                    { title: "Remove Valve Covers", text: "Disconnect coil connectors (8). Remove 10mm coil pack bolts (8). Remove coil packs in order - label 1-8. Remove 8mm valve cover bolts (12 per side). Carefully pry covers up. Replace valve cover gaskets if damaged." },
                    { title: "Remove Rocker Arms", text: "Using 15mm socket, loosen rocker arm bolts alternately (1/4 turn at a time) to prevent valve spring binding. Remove rocker arms and pushrods. Keep in EXACT order for reinstallation - use labeled tray or cardboard with holes." },
                    { title: "Support Engine", text: "Attach engine hoist to lifting eyes on intake manifold bosses. Take up slack - engine should be just supported. Remove 18mm engine mount through-bolts (2 per side). Verify engine is stable." },
                    { title: "Remove Head Bolts", text: "Using 15mm deep socket, loosen head bolts in REVERSE of torque sequence (outside to center, front to back). Loosen 1/4 turn at a time across all bolts. Remove bolts completely. Note: these are TTY bolts - discard." },
                    { title: "Remove Cylinder Head", text: "Cylinder head weighs ~70 lbs. Have helper assist. Break seal by gently prying at front corners with pry bar (use wood block to protect). Lift head straight up. Place on clean cardboard, combustion chamber side up." },
                    { title: "Clean Surfaces", text: "Scrape old gasket from block using PLASTIC scraper only - aluminum damages easily. Clean surface with brake cleaner and lint-free cloth. Inspect block surface for scratches/gouges. Use straightedge to check flatness. Clean head bolt holes with thread chaser and compressed air." },
                    { title: "Inspect Cylinder Head", text: "Check head for cracks around combustion chambers and valve seats. Use straightedge across head surface - max warpage 0.002\" per 6\". If warped, head must be machined or replaced. Clean all carbon from combustion chambers." },
                    { title: "Install New Head Gasket", text: "New gasket is directional - \"FRONT\" marking faces front of engine, \"TOP\" faces up. Do not use any sealer. Place gasket on block, aligning all holes. Handle carefully - do not bend or scratch." },
                    { title: "Install Cylinder Head", text: "Lower head straight down onto gasket with helper. Do not slide or twist. Align with dowel pins. Hand-thread all 16 head bolts - must turn freely. If resistance, check for cross-threading." },
                    { title: "Torque Head Bolts - Phase 1", text: "Sequence: Start at center, work outward in spiral pattern. STEP 1: Torque all bolts to 25 ft-lbs in sequence." },
                    { title: "Torque Head Bolts - Phase 2", text: "STEP 2: Torque all bolts to 45 ft-lbs in same sequence. Verify each bolt with torque wrench - should click at 45 ft-lbs." },
                    { title: "Torque Head Bolts - Phase 3", text: "STEP 3: Using torque angle gauge, rotate each bolt exactly 90¬∞ in sequence. This stretches the TTY bolts to final clamp load. Do NOT exceed 90¬∞.", torque: "Final specification: 25 ft-lbs ‚Üí 45 ft-lbs ‚Üí +90¬∞" },
                    { title: "Reinstall Pushrods/Rockers", text: "Oil pushrod tips. Insert pushrods in SAME positions (labeled). Install rocker arms. Tighten rocker bolts to 22 ft-lbs in alternating sequence." },
                    { title: "Reinstall Valve Covers", text: "Clean valve cover flanges. Install new gaskets (included in kit). Apply small dab of RTV at corners where head meets timing cover. Torque valve cover bolts to 8 ft-lbs in criss-cross pattern." },
                    { title: "Reinstall Intake Manifold", text: "Remove rags from ports. Clean intake manifold flange. Install new intake gaskets. Lower manifold onto heads. Torque 10mm bolts to 18 ft-lbs in sequence (center out, front to back)." },
                    { title: "Reinstall Exhaust Manifolds", text: "Install new exhaust manifold gaskets. Start all bolts by hand. Torque to 18 ft-lbs from center outward." },
                    { title: "Reinstall Accessories", text: "Install A/C compressor (13mm to 18 ft-lbs). Install alternator (13mm to 40 ft-lbs, reconnect). Install power steering pump (15mm to 21 ft-lbs)." },
                    { title: "Reinstall Belt", text: "Route belt per diagram. Rotate tensioner with 3/8\" breaker bar. Slip belt over last pulley. Release tensioner slowly. Verify belt sits in all pulley grooves." },
                    { title: "Reinstall Coil Packs", text: "Install coils in correct cylinders (labeled 1-8). Torque 10mm bolts to 8 ft-lbs. Reconnect coil connectors." },
                    { title: "Refill Fluids", text: "Install oil drain plug with new washer - 20 ft-lbs. Install new oil filter. Add 7 qts 0W-40. Fill coolant system with MS-12106 OAT - fill slowly to prevent air pockets." },
                    { title: "Bleed Cooling System", text: "Open bleed screw on thermostat housing. Fill coolant until flows from bleed screw with no bubbles. Close bleed screw. Top off coolant. Install cap." },
                    { title: "Reconnect Battery & Start", text: "Reconnect negative battery terminal. Start engine - oil pressure should show within 3 seconds. Listen for any unusual sounds. Watch for leaks. Let idle until thermostat opens (temp gauge rises then stabilizes)." },
                    { title: "Test Drive & Verify", text: "Drive 15 miles with varied speeds. Monitor temp gauge - must stay stable. Check for coolant smell. Return and inspect for any leaks. Recheck torques after cool-down. Reset oil life monitor." }
                ]
            },

            "water pump replacement|2020|ford f-150": {
                repair: "Water Pump Replacement",
                vehicle: "2020 Ford F-150 3.5L EcoBoost V6",
                time: "4-5 hours",
                difficulty: "Intermediate",
                cost: "$250-350 (parts)",
                tools: [
                    "Socket set (8mm, 10mm, 13mm, 15mm)",
                    "Torque wrench 0-50 ft-lbs",
                    "Serpentine belt tool (3/8\" drive)",
                    "Coolant drain pan (3 gal capacity)",
                    "Flathead screwdriver (for hose clamps)",
                    "Pick tool (for O-ring)",
                    "Coolant funnel with no-spill feature"
                ],
                parts: [
                    "Water pump - Motorcraft PW-541 (OEM)",
                    "Water pump gasket/O-ring - included with pump",
                    "Coolant - Motorcraft Orange VC-3DIL-B - 1.5 gallons",
                    "Thermostat (inspect, replace if needed) - Motorcraft RT-1169"
                ],
                safety: [
                    "System is pressurized when hot - NEVER open on warm engine",
                    "Coolant is toxic and sweet-tasting - keep away from pets",
                    "Dispose of coolant properly - most auto parts stores accept it",
                    "Support vehicle securely on jack stands - never rely on jack alone"
                ],
                notes: [
                    "EcoBoost water pump is chain-driven (not belt-driven like NA 5.0L)",
                    "Access is from below - vehicle must be raised",
                    "Pump is located on front of engine, passenger side",
                    "Do not mix coolant types - EcoBoost requires orange OAT coolant"
                ],
                steps: [
                    { title: "Raise Vehicle", text: "Apply parking brake. Raise front of vehicle with floor jack. Install jack stands under frame rails. Shake vehicle to verify stability. Remove passenger side wheel for additional access." },
                    { title: "Drain Coolant", text: "Place drain pan under radiator. Open radiator petcock (bottom driver side, turn counterclockwise). If stuck, use pliers with rag. Also remove lower radiator hose for faster drain. Expect 2+ gallons." },
                    { title: "Remove Engine Cover", text: "From above, pull plastic engine cover straight up (4 press-fit clips). Set aside." },
                    { title: "Remove Serpentine Belt", text: "Insert 3/8\" breaker bar into tensioner pulley center. Rotate counterclockwise to release tension. Slip belt off. Note routing on hood sticker." },
                    { title: "Remove Coolant Reservoir Hose", text: "Trace small hose from coolant reservoir to water pump housing. Release spring clamp with pliers. Pull hose off pump nipple. Expect small coolant spillage." },
                    { title: "Remove Lower Hose from Pump", text: "From below, locate lower radiator hose connection at water pump. Release spring clamp. Twist and pull hose off. More coolant will drain - position pan." },
                    { title: "Remove Pump Mounting Bolts", text: "Water pump has 4 mounting bolts (10mm). One is hidden behind the tensioner bracket. Remove tensioner bracket first if needed (13mm, 2 bolts). Remove all 4 pump bolts." },
                    { title: "Remove Water Pump", text: "Pull pump straight out from timing cover. It may be stuck - gently pry if needed. Do not damage timing cover surface. Note pump drive gear position for installation." },
                    { title: "Clean Mating Surface", text: "Clean old gasket material from timing cover surface. Use plastic scraper to avoid scratches. Wipe clean with lint-free rag. Inspect for damage." },
                    { title: "Prepare New Pump", text: "Remove new pump from box. Verify O-ring/gasket is installed on pump. Apply thin film of coolant to O-ring to ease installation. Do not use RTV sealer." },
                    { title: "Install New Pump", text: "Align pump drive gear with slot in timing cover. Push pump straight in until seated. Install 4 mounting bolts hand-tight first. Torque to 18 ft-lbs in criss-cross pattern.", torque: "Water pump bolts: 18 ft-lbs" },
                    { title: "Reinstall Tensioner Bracket", text: "If removed, reinstall tensioner bracket. Torque 13mm bolts to 18 ft-lbs." },
                    { title: "Reconnect Hoses", text: "Push lower hose onto pump outlet. Secure with spring clamp. Reconnect coolant reservoir hose. Secure clamp." },
                    { title: "Reinstall Belt", text: "Route belt per diagram. Rotate tensioner counterclockwise, slip belt on, release slowly. Verify belt is seated in all pulley grooves." },
                    { title: "Refill Coolant", text: "Close radiator petcock. Use no-spill funnel at radiator cap. Fill with Motorcraft Orange coolant until full. Fill reservoir to MAX line." },
                    { title: "Bleed Air", text: "Start engine with radiator cap off. Set heater to MAX hot. Let idle until thermostat opens (upper hose gets hot). Top off coolant as level drops. Air bubbles should stop. Install cap." },
                    { title: "Check for Leaks", text: "With engine running, inspect water pump area from below. Check all hose connections. No drips or seepage should be present." },
                    { title: "Test Drive", text: "Drive 10 miles. Monitor temp gauge - should be stable at normal operating temp. Return and recheck coolant level when cool. Top off if needed." }
                ]
            },

            "spark plug replacement|2022|honda civic": {
                repair: "Spark Plug Replacement",
                vehicle: "2022 Honda Civic 1.5L Turbo (L15B7)",
                time: "1-1.5 hours",
                difficulty: "Beginner",
                cost: "$60-100 (parts)",
                tools: [
                    "10mm socket (for coil packs)",
                    "Spark plug socket 14mm (with rubber insert)",
                    "6\" extension",
                    "Ratchet",
                    "Torque wrench 0-30 ft-lbs",
                    "Feeler gauge (0.028-0.032\")",
                    "Compressed air (to blow out plug wells)"
                ],
                parts: [
                    "Spark plugs (4) - NGK DILKAR7G11GS (OEM iridium)",
                    "Alternative: Denso IXEH22TT (iridium)"
                ],
                safety: [
                    "Engine must be COOL - hot plugs can strip aluminum threads",
                    "Disconnect battery negative before starting",
                    "Do not drop spark plug - damages electrode gap"
                ],
                notes: [
                    "L15B7 turbo engine uses colder heat range plugs than NA engine",
                    "Replacement interval: 60,000 miles (turbo) vs 100,000 (NA)",
                    "Gap is preset at 0.030\" - verify but do not adjust unless necessary",
                    "Coil-on-plug design - coils sit directly on plugs"
                ],
                steps: [
                    { title: "Access Engine", text: "Open hood. Remove plastic engine cover by pulling up on front edge (2 clips). Locate 4 coil packs in center of valve cover." },
                    { title: "Disconnect Battery", text: "Locate negative battery terminal (black). Loosen 10mm nut. Remove cable from terminal. Wait 1 minute." },
                    { title: "Blow Out Plug Wells", text: "Use compressed air to blow debris from around each coil pack. This prevents dirt from falling into cylinder when plug is removed." },
                    { title: "Remove Coil Pack #1", text: "Disconnect coil connector (press tab and pull straight up). Remove 10mm coil bolt. Pull coil straight up out of well. Cylinder numbering: 1-2-3-4 from transmission to timing chain." },
                    { title: "Remove Spark Plug #1", text: "Insert 14mm spark plug socket with extension. Seat firmly on plug. Turn counterclockwise to loosen. Once loose, remove by hand. Inspect old plug - electrode wear, carbon, oil fouling indicates engine issues." },
                    { title: "Check New Plug Gap", text: "Use feeler gauge to verify 0.030\" gap on new plug. 0.028\" should not fit, 0.032\" should fit snugly. NGK iridium are pre-gapped but verify. Do not bend iridium electrode." },
                    { title: "Install New Plug #1", text: "Thread new plug in BY HAND first. This is critical - aluminum threads strip easily. Once seated by hand, torque to 13 ft-lbs with torque wrench. Do not over-torque.", torque: "Spark plug: 13 ft-lbs" },
                    { title: "Install Coil Pack #1", text: "Push coil straight down until seated. It should click on spark plug. Install 10mm bolt. Torque to 8 ft-lbs. Reconnect coil connector until it clicks." },
                    { title: "Repeat for #2, #3, #4", text: "Repeat steps 4-8 for remaining cylinders. Work one at a time to avoid mixing parts. Install each coil before moving to next cylinder." },
                    { title: "Reconnect Battery", text: "Install negative battery cable. Tighten 10mm nut snugly." },
                    { title: "Start and Test", text: "Start engine. Should start quickly and idle smoothly. Any misfire will trigger CEL. Let idle 2 minutes and listen for abnormal sounds." },
                    { title: "Reinstall Cover", text: "Press engine cover down onto clips until it snaps in place." }
                ]
            },

            "alternator replacement|2023|toyota camry": {
                repair: "Alternator Replacement",
                vehicle: "2023 Toyota Camry 2.5L (A25A-FKS)",
                time: "1.5-2 hours",
                difficulty: "Intermediate",
                cost: "$350-500 (parts)",
                tools: [
                    "Socket set (10mm, 12mm, 14mm)",
                    "Ratchet with long extension",
                    "Serpentine belt tool",
                    "Multimeter (for testing)",
                    "Memory saver (optional - preserves radio presets)"
                ],
                parts: [
                    "Alternator - Denso 421000-7311 (OEM) or Denso Remanufactured",
                    "Serpentine belt (if worn/cracked) - Toyota 90916-02708"
                ],
                safety: [
                    "Disconnect negative battery terminal BEFORE disconnecting alternator",
                    "Alternator output terminal is always hot when battery connected",
                    "Never pry on alternator housing - damages internal components"
                ],
                notes: [
                    "A25A-FKS alternator is 14V, 130A output",
                    "Belt is self-tensioning - no manual adjustment",
                    "Alternator is located low, front-right of engine",
                    "If battery is old, test after alternator replacement"
                ],
                steps: [
                    { title: "Test Current Alternator", text: "Before replacing, verify alternator is faulty. Start engine. Set multimeter to DC volts. Connect to battery terminals. Should read 13.8-14.4V at idle. If below 13V or above 15V, alternator is bad." },
                    { title: "Disconnect Battery", text: "Turn off ignition. Remove negative battery cable (10mm). Tuck cable away from terminal. If using memory saver, connect it now." },
                    { title: "Access Alternator", text: "Alternator is visible from above, located on right side of engine. No covers to remove. Identify the 3 connections: B+ terminal (large cable), field connector (small plug), and ground." },
                    { title: "Remove Serpentine Belt", text: "Locate tensioner pulley (has square hole in center). Insert 14mm socket or breaker bar. Rotate counterclockwise to release tension. Slip belt off alternator pulley first. Release tensioner." },
                    { title: "Disconnect B+ Terminal", text: "Remove rubber boot from B+ terminal. Remove 12mm nut. Pull large battery cable off terminal. Do not lose nut - it stays with old alternator." },
                    { title: "Disconnect Field Connector", text: "Press tab on small electrical connector. Pull straight off. Do not pry." },
                    { title: "Remove Mounting Bolts", text: "Upper bolt: 14mm, 1 bolt on upper bracket. Lower bolt: 14mm through alternator into block. Note bolt lengths are different." },
                    { title: "Remove Alternator", text: "Alternator lifts out toward passenger fender. May need to rotate to clear coolant reservoir. Support during removal - alternator is heavy (~12 lbs)." },
                    { title: "Compare Parts", text: "Set old and new alternators side by side. Verify pulley size matches. Verify connector positions match. Transfer B+ nut if not included with new unit." },
                    { title: "Install New Alternator", text: "Lower alternator into position. Align mounting holes. Install lower bolt hand-tight. Install upper bolt hand-tight. Torque both to 32 ft-lbs.", torque: "Alternator mounting bolts: 32 ft-lbs" },
                    { title: "Connect Electrical", text: "Push field connector on until it clicks. Install B+ cable on terminal. Install 12mm nut, torque to 9 ft-lbs. Install rubber boot over terminal.", torque: "B+ terminal: 9 ft-lbs" },
                    { title: "Reinstall Belt", text: "Route belt per diagram. Rotate tensioner counterclockwise. Slip belt over alternator pulley last. Release tensioner. Verify belt is seated in all pulley grooves." },
                    { title: "Reconnect Battery", text: "Install negative battery cable. Tighten 10mm nut." },
                    { title: "Test Output", text: "Start engine. Connect multimeter to battery terminals. At idle, should read 13.8-14.4V. Rev to 2000 RPM - voltage should not exceed 14.8V. Turn on headlights, AC, rear defrost - voltage should stay above 13.5V." },
                    { title: "Test Drive", text: "Drive 10 minutes. Verify battery/charging light stays off. Return and recheck belt tension and all connections." }
                ]
            }
        };

        // Search mappings for natural language
        const repairTerms = {
            'head gasket': 'head gasket replacement', 'replace head gasket': 'head gasket replacement', 'blown head gasket': 'head gasket replacement',
            'water pump': 'water pump replacement', 'replace water pump': 'water pump replacement', 'leaking water pump': 'water pump replacement',
            'spark plug': 'spark plug replacement', 'spark plugs': 'spark plug replacement', 'change spark plugs': 'spark plug replacement', 'tune up': 'spark plug replacement',
            'alternator': 'alternator replacement', 'replace alternator': 'alternator replacement', 'charging system': 'alternator replacement', 'not charging': 'alternator replacement'
        };

        const vehicleTerms = {
            'charger': 'dodge charger', 'dodge charger': 'dodge charger',
            'f150': 'ford f-150', 'f-150': 'ford f-150', 'ford f150': 'ford f-150', 'ford f-150': 'ford f-150',
            'civic': 'honda civic', 'honda civic': 'honda civic',
            'camry': 'toyota camry', 'toyota camry': 'toyota camry'
        };

        function search() {
            const query = document.getElementById('searchInput').value.toLowerCase().trim();
            if (!query) { alert('Enter a repair query'); return; }

            let repair = null, year = null, vehicle = null;

            // Extract year
            const yearMatch = query.match(/\b(20[0-2][0-9])\b/);
            if (yearMatch) year = yearMatch[1];

            // Extract repair type
            for (const [term, value] of Object.entries(repairTerms)) {
                if (query.includes(term)) { repair = value; break; }
            }

            // Extract vehicle
            for (const [term, value] of Object.entries(vehicleTerms)) {
                if (query.includes(term)) { vehicle = value; break; }
            }

            // Try to find exact match
            if (repair && year && vehicle) {
                const key = `${repair}|${year}|${vehicle}`;
                if (procedures[key]) {
                    showProcedure(procedures[key]);
                    return;
                }
            }

            // Fuzzy search
            let best = null, bestScore = 0;
            for (const [key, proc] of Object.entries(procedures)) {
                let score = 0;
                const words = query.split(/\s+/);
                words.forEach(w => {
                    if (w.length > 2) {
                        if (proc.repair.toLowerCase().includes(w)) score += 3;
                        if (proc.vehicle.toLowerCase().includes(w)) score += 2;
                        if (proc.vehicle.includes(w)) score += 2;
                    }
                });
                if (score > bestScore) { bestScore = score; best = proc; }
            }

            if (bestScore >= 4) { showProcedure(best); }
            else { showNoResults(query); }
        }

        function showProcedure(p) {
            let html = `<div class="procedure">
                <h2>${p.repair}</h2>
                <p style="color:#666;margin-bottom:20px;">${p.vehicle}</p>
                <div class="meta">
                    <div><label>Time</label><span>${p.time}</span></div>
                    <div><label>Difficulty</label><span>${p.difficulty}</span></div>
                    <div><label>Parts Cost</label><span>${p.cost}</span></div>
                    <div><label>Engine</label><span>${p.vehicle.split(' ').slice(2).join(' ')}</span></div>
                </div>
                <div class="warning"><strong>‚ö†Ô∏è SAFETY</strong><ul>${p.safety.map(s => `<li>${s}</li>`).join('')}</ul></div>
                <h3>Required Tools</h3><ul class="tools">${p.tools.map(t => `<li>${t}</li>`).join('')}</ul>
                <h3>Parts Needed</h3><ul class="parts">${p.parts.map(t => `<li>${t}</li>`).join('')}</ul>
                <div class="note"><strong>üìù NOTES</strong><ul>${p.notes.map(n => `<li>${n}</li>`).join('')}</ul></div>
                <h3>Procedure Steps</h3><ul class="steps">`;

            p.steps.forEach((s, i) => {
                html += `<li><div class="step-num">${i+1}</div><div class="step-content"><strong>${s.title}</strong><p>${s.text}</p>${s.torque ? `<div class="torque">${s.torque}</div>` : ''}</div></li>`;
            });

            html += '</ul></div>';
            document.getElementById('output').innerHTML = html;
            document.getElementById('results').classList.add('active');
            document.getElementById('results').scrollIntoView({behavior:'smooth'});
        }

        function showNoResults(query) {
            const available = Object.values(procedures).map(p => `<li onclick="quickSearch('${p.repair.toLowerCase()}|${p.vehicle.split(' ')[0]}|${p.vehicle.split(' ').slice(1,3).join(' ').toLowerCase()}')">${p.repair} - ${p.vehicle}</li>`).join('');
            document.getElementById('output').innerHTML = `<div class="no-results"><h3>Procedure Not Found</h3><p>No exact match for: "${query}"</p><p style="margin-top:20px;"><strong>Available Procedures:</strong></p><ul class="available-list">${available}</ul></div>`;
            document.getElementById('results').classList.add('active');
        }

        function quickSearch(key) {
            const parts = key.split('|');
            document.getElementById('searchInput').value = `${parts[0]} ${parts[1]} ${parts[2]}`;
            search();
        }

        document.getElementById('searchInput').addEventListener('keypress', e => { if (e.key === 'Enter') search(); });
    </script>
</body>
</html>
